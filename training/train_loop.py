
def train_diff_loop(
    model, ema_model, vae, text_encoder, dataloader, lr_scheduler, initial_global_step, max_train_steps
):
    pass